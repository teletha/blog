---
import { licenseConfig, profileConfig } from '../../config'
import { formatDateToYYYYMMDD } from '../../utils/date-utils'

interface Props {
    title: string
    slug: string
    pubDate: Date
    class: string
}

const { title, slug, pubDate } = Astro.props
const className = Astro.props.class
const profileConf = profileConfig
const licenseConf = licenseConfig
const postUrl = decodeURIComponent(Astro.url.toString())
---
<div class=`relative transition overflow-hidden bg-[var(--license-block-bg)] py-5 px-6 ${className}`>
    <div class="transition font-bold text-black/75 dark:text-white/75">{title}</div>
    <a href={postUrl} class="link text-[var(--primary)]">{postUrl}</a>
    <div class="flex gap-6 mt-2">
        <div>
            <div class="transition text-black/30 dark:text-white/30 text-sm">著者</div>
            <div class="transition text-black/75 dark:text-white/75 whitespace-nowrap">{profileConf.name}</div>
        </div>
        <div>
            <div class="transition text-black/30 dark:text-white/30 text-sm">公開日</div>
            <div class="transition text-black/75 dark:text-white/75 whitespace-nowrap">{formatDateToYYYYMMDD(pubDate)}</div>
        </div>
        <div>
            <div class="transition text-black/30 dark:text-white/30 text-sm">ライセンス</div>
            <a href={licenseConf.url} target="_blank" class="link text-[var(--primary)] whitespace-nowrap">{licenseConf.name}</a>
        </div>
    </div>
</div>